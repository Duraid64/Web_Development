<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alarm Clock</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous"> -->

    <!-- <link rel="stylesheet" type="text/css" href="style.css" /> -->
  </head>
  <body class="clock body">
    <div
      id="div"
      class="auto badge badge-pill badge-success rounded-sm auto2"
    ></div>
    <input type="time" id="input" class="auto form-control mb-2 w-25 p-3" />
    <button id="button" class="auto btn btn-outline-primary">Add Alarm</button>
    <audio src="a.wav" id="audio"></audio>
  </body>
  <script>
    let div = document.getElementById("div");
    let input = document.getElementById("input");
    let button = document.getElementById("button");
    var date = new Date();
    // var str;
    setInterval(function fun() {
      var date = new Date();
      date = new Date();
      div.innerHTML = date;
      // console.log(date.getHours());
      // console.log(date.getMinutes());
      // console.log(input.value)
    }, 1000);

    let fire = () => {
      var str;
      //   clearInterval(abc);
      var hours = date.getHours();
      var minutes = date.getMinutes();
      var str2 = input.value;
      str = `${hours}:${minutes}`;
      console.log(typeof str);
      console.log(typeof str2);
      str = str.replace("0", "");
      str = str.replace(":", "");
      str2 = str2.replace("0", "");
      str2 = str2.replace(":", "");
      str = Number.parseInt(str);
      str2 = Number.parseInt(str2);
      console.log(typeof str);
      console.log(typeof str2);

      //   console.log(str.startsWith(4));
    //   console.log(input.value);
      //   if (str.length === 5) {
      // if (str.startsWith("0") && str[4] == 0) {

      console.log(str);
      setInterval(function hey() {
        // var hours = date.getHours();
        // var minutes = date.getMinutes();
        // var str = `${hours}:${minutes}`;
        // console.log(str == str2);
        // let a=input.value
        // hours = date.getHours();
        // minutes = date.getMinutes();
        // str = `${hours}:${minutes}`;
        // str = str.replace("0", "");
        // str = str.replace(":", "");
        if (str === str2) {
          console.log(input.value);
          let audio = document.getElementById("audio");
          audio.play();
          console.log("beep");
          // document.body.ClassList.remove("clock")
          // document.body.ClassList.add("alarm")
        } else {
        }
      }, 100);
    };

    // 	setInterval(function hello(){
    //      document.body.classList.remove("alarm")
    // },10000)
    // };
    button.addEventListener("click", fire);

    // document.body.append(div)
  </script>
</html>
